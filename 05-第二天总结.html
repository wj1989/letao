<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    1. 前后端的交互流程
        1. 前端通过nodejs给的API文档往nodejs 后端发请求
        2. nodejs后端往mysql数据库发请求 请求数据
        3. 数据库 根据sql语句查询数据返回给nodejs后端
        4. nodejs后端把数据通过API返回值返回给前端
    2. 前端请求数据方式
        1. 原生的ajax
        2. 使用封装的ajax jquery的$.ajax 和 zepto的$.ajax
    3. 前端渲染数据的方式
        1. 使用字符串拼接方式
        2. 使用模板引擎
            1. 模板引擎有3个版本分别是原生 简洁 简洁新版本 推荐使用简洁新版本
            2. 模板引擎使用步骤
                1. 先创建一个模板 注意指定id和type类型
                2. 调用模板传入模板id和数据（注意数据是对象格式的如果不是对象需要包装成对象）
                3. 接收模板引擎返回的数据渲染页面
    4. 获取一级分类数据的函数
        1. 使用ajax请求 数据接口 /category/queryTopCategory
        2. 创建页面标签的模板
        3. 调用模板生成的函数 生成html
        4. 把生成的模板渲染到左侧分类

    5. 获取二级分类的函数
        1. 根据当前一级分类id调用二级分类的APi接口获取二级分类数据
        2. 创建模板 
        3. 渲染模板
        
    6. 点击切换获取二级分类    
        1. 左边所有元素添加一个点击事件 因为移动端点击(click)事件有延迟 推荐使用tap事件(zepto封装的事件解决延迟)
        2. 获取所有的li标签
        3. 点击了获取当li标签的data-属性的值
        4. 拿这个属性的值请求右侧分类数据和渲染
        5. 切换点击a的元素li的active类名
    7. 搜索页面的布局
        1. 上面搜索表单
        2. 下面搜索历史
        3. 表单使用左边输入框flex:1 右边固定宽度
        4. 搜索历史 使用卡片布局 内容使用列表布局
    8. 搜索历史的添加功能
        1. 获取搜索的按钮添加点击事件
        2. 获取当前的搜索记录 获取当前输入输入的文字通过val方法 空格要排除掉 空格不合法的输入
        3. 做非空判断 
        4. 如果输入了就要把当前记录添加到本地存储的里面 
            4.1 使用数组的方式添加 创建一个数组 第一次是空 第二次就是之前已经存储的数组
            4.2 把当搜索的search添加到这个数组里面
            4.3 进行数组的去重 存在重复要去掉 再往前面添加新的值
            4.4 把整个数组存储到 localStorage中 （但是本地存储只能存储字符串 把数组转成字符串再存进去）
        5. 如果存储有值 了获取之前本地存储的值 
            5.1 判断当前本地存储中有没有数据 == null 表示没有数据
            5.2 如果没有值只需要把arr赋值为空数组
            5.3 如果之前有数据 把字符串转成数组
        6. 搜索完成后清空输入框
        7. 添加完成调用一下查询添加完成马上查询渲染列表
    9. 搜索记录的查询功能
        1. 把之前数据取出来
        2. 判断当前本地存储是否已经有数据 有数据使用之前存储的数组 如果没有数据使用空数组
        3. 再使用模板引擎生成html 因为现在的arr是一个数组 模板引擎要求对象 一定包装到对象里面
        4. 把模板渲染到ul里面
    9. 搜索历史的区域滚动插件
        1. 使用区域滚动的结构
        2. 设置样式 保证区域滚动的容器有高度
            1. 给main设置flex 和 垂直排列 表单固定高度 搜索历史 flex:1
            2. 给搜索历史的标题固定高度 内容flex:1
        3. 初始化
</body>
</html>